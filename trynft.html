<!DOCTYPE html>
<html>

<head>
	<title> Cover Book AR </title>
	<meta name="description" content="Cover Book AR">
	<script src="./aframe/aframe.min.js"></script>
	<script src="./build/aframe-ar-nft.js"></script>
	<!-- 
	<script src="js/multiMarkers.js"></script> -->
</head>

<body>
	<a-scene vr-mode-ui="enabled: false" color-space="sRGB" renderer="gammaOutput: true" embedded
		arjs='debugUIEnabled: false; sourceType: webcam; patternRatio: 0.85; trackingMethod: best;'>
		<a-entity id='userCamera' camera>
			<a-cursor> </a-cursor>
		</a-entity>
	</a-scene>
	<script>
		scene = document.querySelector("a-scene");

		let url = './dispatcher/books.json';
		fetch(url)
			.then((resp) => resp.json())
			.then(function (data) {
				listbuku(data, scene);
			})
			.catch(function (error) {
				console.log(JSON.stringify(error));
			});

			var markers=["adigang", "agamapelacur", "algoritma", "americanpolitic", "amgov", "analisissurvival", "ananda", "antropologi", "antropologibudaya", "bali", "barcode", "bercerita", "berjalan", "bisnisquran", "c2013", "casespolitic", "cisco", "citradigital", "cloning", "commonlink", "cooplearning", "dasarpolitik", "databaseprocessing", "databasepros", "dinamikafiskal", "ekonometri", "ekonometrika", "ekonometrikamanajemen", "ekonomibisnis", "essenspolitic", "filosofi", "firewall", "fuzzy", "gamemaker", "gospelwater", "harddisk", "hardwarepc", "humandevelop", "ilmupolitik", "ilmusosial", "ITdirs", "jalanparadoks", "jepangmatamata", "kendalikualitas", "konfliketnis", "kongresbudaya", "landscapebank", "leadership", "librarycatalog", "logiccontroller","logikastatistik", "manajemenperpus", "metopensmart", "metopensos", "minecraftdummy", "muliasadra", "ofdm", "officedummy", "opencv", "oposisiislam", "pancasila", "perbankan", "phpmysql", "politikhukum", "politikpemerintahan", "prinsiplcd", "project2", "project2010", "psikologikepribadian", "psikologiperpus", "purikebahagiaan", "pustakawan", "rancanggame", "rdbms", "sbd", "sejarahbudaya", "sinyalsistem", "sistemaliyah", "sistemorganisasi", "sistemsosial", "skripsi", "smartphone", "snort", "social", "socketprogram", "sosiologi", "sosiologidasar", "sosiologiseni", "spss", "sqlart", "sqlserver", "statistikpenelitian", "studiquran", "teorisosial", "transformasisosial", "tuhandimatafilsuf", "ubuntu", "visualc", "visualuml", "warehouse"];

		function listbuku(buku, scenel) {
		for (let i = 0; i < buku.length; i++) {
			let marker = document.createElement("a-nft");
			let uri = ""; uri += "./markers/"+markers[i];
            marker.setAttribute("type", "nft");
			marker.setAttribute("url", uri);
			let kertas = document.createElement("a-plane");
			kertas.setAttribute("color", "white");
			kertas.setAttribute("scale", "1.2 1.5");
			kertas.setAttribute("rotation", "-90 0 0");
            let judul = document.createElement("a-text");
            let titel = "";
            titel += buku[i].title;
			judul.setAttribute("value", titel);
			judul.setAttribute("scale", "0.2 0.2 0.2");
            judul.setAttribute("position", "0.27 0.4 0.05");
            judul.setAttribute("color", "black");
			judul.setAttribute("baseline", "center");
			judul.setAttribute("anchor", "center");
			judul.setAttribute("align", "left");
			let writer = document.createElement("a-text");
			let penulis = ""; penulis += "Penulis : "+buku[i].writers;
			writer.setAttribute("value", penulis);
			writer.setAttribute("scale", "0.19 0.19 0.19");
            writer.setAttribute("position", "0 0.25 0.05");
            writer.setAttribute("color", "black");
			writer.setAttribute("anchor", "center");
			writer.setAttribute("align", "left");
			let sinop = document.createElement("a-text");
			let sinopsis = ""; sinopsis += "Sinopsis : "+buku[i].sinopsis;
			sinop.setAttribute("value", sinopsis);
			sinop.setAttribute("scale", "0.19 0.19 0.19");
            sinop.setAttribute("position", "0 0.05 0.05");
			sinop.setAttribute("color", "black");
			sinop.setAttribute("baseline", "center");
			sinop.setAttribute("anchor", "center");
			sinop.setAttribute("align", "left");
			let sedia = document.createElement("a-text");
			let sediaan = ""; sediaan += "Available : "+buku[i].available+" copies"
			sedia.setAttribute("value", sediaan);
			sedia.setAttribute("scale", "0.19 0.19 0.19");
            sedia.setAttribute("position", "0 -0.15 0.05");
			sedia.setAttribute("color", "black");
			sedia.setAttribute("anchor", "center");
			sedia.setAttribute("align", "left");
			let kode = document.createElement("a-text");
			let koderak = ""; koderak += "Kode Buku : "+buku[i].kode;
			kode.setAttribute("value", koderak);
			kode.setAttribute("scale", "0.19 0.19 0.19");
            kode.setAttribute("position", "0 -0.2 0.05");
			kode.setAttribute("color", "black");
			kode.setAttribute("anchor", "center");
			kode.setAttribute("align", "left");
			let cover = document.createElement("a-image");
			let gambar = ""; gambar += "./NFT cover/"+markers[i]+"JPG.jpg"
			cover.setAttribute("scale", "0.19 0.19 0.19");
			cover.setAttribute("src", gambar);
			cover.setAttribute("position", "-0.35 0.39 0.05");
			marker.appendChild(kertas);
			kertas.appendChild(judul);
			kertas.appendChild(writer);
			kertas.appendChild(sinop);
			kertas.appendChild(sedia);
			kertas.appendChild(cover);
			kertas.appendChild(kode);
            scenel.appendChild(marker);
        }
		}
		
	</script>
</body>

</html>